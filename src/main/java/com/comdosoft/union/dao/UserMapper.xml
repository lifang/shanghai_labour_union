<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.comdosoft.union.dao.UserMapper">
	<resultMap id="user" type="com.comdosoft.union.bean.app.User">
		<id property="id" column="id"/>
		<result property="username" column="username" />
		<result property="password" column="password" />
		<result property="phone" column="phone" />
		<result property="email" column="email" />
		<result property="labourUnionCode" column="labourUnionCode" />
	</resultMap>
	
	<insert id="insert" parameterType="com.comdosoft.union.bean.app.User">
        insert into users(username,password,phone) values(#{username},#{password},#{phone})
    </insert>
    
	<select id="selectUserByName" resultMap="user" >
		SELECT *
		   FROM users
		   <where>
		   <if test="username != null"> username =#{username} </if>
		   </where>
	</select>
	
	<select id="selectUserByPhone" resultMap="user" >
		SELECT *
		   FROM users
		   <where>
		   	<if test="phone != null">and phone !=#{phone}</if>
		   </where>
	</select>
	
</mapper>